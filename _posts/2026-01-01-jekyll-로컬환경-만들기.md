---
title: "jekyll 로컬환경 만들기"
date: 2026-01-01
categories:
  - github
tags:
  - jekyll
  - env
---

목적은 jekyll 로컬 환경 구축  
이미 이것저것 설치 및 설정을 많이 시도한 상태  
관련 내용을 설치 초기화 하고 재설치 시도  
환경은 Mac M1환경  

우여곡절이 많아 지극히 개인적인 설정이 많이 들어가 있을수 있음  

---

## 1. 기존 Jekyll / Ruby / Bundler / 설정 전부 제거  
### 1-1 rbenv / ruby-build 완전 제거  
```
brew uninstall rbenv ruby-build  
```
### 1-2 Ruby 환경 파일 삭제    
```
rm -rf ~/.rbenv  
rm -rf ~/.bundle  
rm -rf ~/.gem  
rm -rf ~/.rubies  
```
### 1-3 쉘 설정에서 Ruby 관련 설정 제거  
```
# 설정 파일 편집모드  
vi ~/.zshrc

# 아래 비슷한 줄 전부 삭제  
export PATH="$HOME/.rbenv/bin:$PATH"  
eval "$(rbenv init - zsh)"  
export GEM_HOME=...  
export GEM_PATH=...  

# 적용
source ~/.zshrc

# 확인  
which ruby # /usr/bin/ruby 여야 정상  
```
---


## 2. rbenv + ruby-build 다시 설치
```
# rbenv + ruby-build 다시 설치
brew install rbenv ruby-build

# zsh에 등록: 바로 사용가능 하도록 초기화
echo 'eval "$(rbenv init - zsh)"' >> ~/.zshrc
source ~/.zshrc # 적용

# 확인
rbenv --version
or rbenv versions
```
---


## 3. Jekyll과 가장 안정적인 Ruby 설치  
```
# GitHub Pages 기준 가장 안정적인 버전
rbenv install 3.2.2 # 특정 버전 설치
rbenv global 3.2.2 # 특정 버전을 기본으로 사용 설정

# 확인
ruby -v # ruby 3.2.2
```
---


## 4. Bundler & Jekyll 설치
```
# ERROR: While executing gem ... 오류 발생시
# which ruby 실행, /Users/(계정)/.rbenv/shims/ruby가 뜨는지 확인하고 확인되지 않으면
# rbenv rehash or source ~/.zshrc or 터미널 완전 종료후 재부팅
gem update --system
gem install bundler
gem install jekyll

# 확인
jekyll -v
bundler -v
```
---


## 5. 새 Jekyll 프로젝트 생성
```
# jekyll 새프로젝트 생성
jekyll new [my-blog]

# 프로젝트로 이동하여 의존성 설치
cd my-blog
bundle install
```
---


## 6. 로컬 서버 실행
```
bundle exec jekyll serve # http://localhost:4000
```
---


## 7. 만약 GitHub Pages용이라면 (권장 설정)
```
bundle add github-pages

# Gemfile에 추가
gem "github-pages", group: :jekyll_plugins

# 의존성 설치후 다시 실행
bundle install
bundle exec jekyll serve
```
---


## 기타  
- 원격 테마 사용시 SSL 오류
로컬에서 _config.yml 파일 설정에서 remote-theme 사용시 GitHub Pages 네트워크 SSL 보안문제로 테마를 적용시키지 못하는 문제가 발생한다. 현재는 해결방법을 찾지 못하였으며 차선책으로 GitHub Pages에서는 remote-theme를 사용하고 로컬에서는 theme 설정을 사용해야 한다. 따라서 _config.yml 파일을 분리하여 사용한다. 즉, 로컬에서 서버 실행시
```
bundle exec jekyll serve --config _config_local.yml
```

- 명령어를 사용하여 로컬에서 사용하는 config 파일을 지정해준다.
- 서버실행후 생는 파일
bundle exec jekyll serve 명령어 실행후 생기는 _site 폴더는 jekyll 자체에서 프로젝트를 bulid 할때 생기는 폴더이며 따로 건들 필요도 없으며 .gitignore 파일에 포함하여 commit시 제외시켜준다.
- 의존성 설치
Gemfile을 수정하여 의존성 관련하여 수정사항이 생기면 수정후 반드시 bundle install 명령어를 사용하여 의존성 설치를 해준다.

